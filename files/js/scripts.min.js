var Game=function(){function e(){}return e.random=function(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1))+e},e.matches=function(e){for(var t=0,s=0,a=e.length;s<a;s++)e[s].length>t&&(t=e[s].length);return t},e.pickNumber=function(){var e=0;if(this.demo>0)this.numbers.selected.push(this.demo--);else{for(;0===e||this.numbers.selected.indexOf(e)>=0;)e=this.random(1,this.numbers.set);this.numbers.selected.push(e)}},e.results=function(){var e=this.numbers.selected,t=[],s=[];e.sort(function(e,t){return e-t});for(var a=0,n=e.length;a<n;++a)0!==a?(e[a-1]!==e[a]-1&&(t.push(s),s=[]),s.push(e[a])):s.push(e[a]);t.push(s),this.lastAndFirstLinked()&&t.push(t[t.length-1].concat(t[0])),this.count=this.matches(t),this.pay=this.bet.current*this.paytable[this.count>=this.paytable.length?this.paytable.length-1:this.count].val},e.manageBet=function(){this.bet.max>this.credits+this.bet.current?this.bet.max=this.credits+this.bet.current:this.bet.max=this.bet.def,0===this.bet.session&&(this.bet.current=0)},e.takeBet=function(e){this.credits-=0===this.bet.session?e:e>1?this.bet.max-this.bet.current:1,this.bet.session>0&&(this.bet.current=e>1?e:this.bet.current+1)},e.takeWin=function(e){this.credits+=e,this.pay-=e},e.canBetOne=function(){return this.bet.current<this.bet.max},e.canBetMax=function(){return this.bet.current<this.bet.max},e.maxBetReached=function(){return this.bet.current===this.bet.max},e.betTopsCredits=function(){return this.bet.current>this.credits&&0===this.bet.session},e.thereIsABet=function(){return this.bet.current>0},e.lastAndFirstLinked=function(){return this.numbers.selected.indexOf(this.numbers.set)>=0&&this.numbers.selected.indexOf(1)>=0},e.paytable=[{label:"Longest run is 0",val:0},{label:"Longest run is 1",val:0},{label:"Longest run is 2",val:0},{label:"Longest run is 3",val:0},{label:"Longest run is 4",val:2},{label:"Longest run is 5",val:5},{label:"Longest run is 6",val:25},{label:"Longest run is 7",val:100},{label:"Longest run is 8",val:500},{label:"Longest run is 9",val:1e3},{label:"Longest run is 10",val:5e3},{label:"Longer than 10",val:1e4}],e.pay=0,e.speed={vals:[350,225,100],dial:1},e.auto=!1,e.playing=!1,e.bet={def:10,max:10,current:0,session:0},e.numbers={set:80,subset:20,selected:[]},e.credits=1e3,e.audio=!0,e.count=0,e.messages=0,e.draws=0,e.demo=0,e}(),Dom=function(){function e(){}return e.drawBlocks=function(e,t,s,a,n){var i=[];if(0===e){i[0]=document.createElement("table"),i[0].className="textcentered",a.appendChild(i[0]);for(o=t;o<s;o++)o%10==0&&(i[1]=document.createElement("tr"),i[0].appendChild(i[1])),i[2]=document.createElement("td"),i[2].innerHTML=o+1,i[1].appendChild(i[2])}else for(var o=t;o<s;o++)i[0]=document.createElement("div"),i[0].className=1===e||n[o].val>0?"":"hide",a.appendChild(i[0]),i[1]=document.createElement("span"),i[1].innerHTML=1===e?n[o]:n[o].label,i[0].appendChild(i[1]),i[1]=document.createElement("label"),i[1].className="cl-right "+(1===e?"info":"pay"),i[1].innerHTML=1===e?"":n[o].val,i[0].appendChild(i[1])},e.bind=function(){var e=[Game.credits,Game.bet.current,Game.count,Game.pay],t="";this.objects.audio.src=Game.audio?this.iconSource[0]:this.iconSource[0].replace(this.iconSource[1],this.iconSource[2]);for(var s=0,a=e.length;s<a;s++)this.objects.info[s].innerHTML=e[s],this.objects.info[s].classList.toggle("mark",Game.pay>0&&s>1);for(var s=1,a=Game.numbers.set+1;s<a;s++)this.objects.cells[s-1].classList.toggle("selected",Game.numbers.selected.indexOf(s)>=0);for(var s=0,a=this.objects.buttons.length;s<a;s++)if(2===s){for(var n=0,i=Game.speed.vals.length;n<i;n++)t+=n>Game.speed.dial?"<label>)</label>":")";this.objects.buttons[s].innerHTML=this.buttonLabels[s]+"&nbsp;<span>"+t+"</span>",this.objects.buttons[s].classList.toggle("disabled",Game.playing)}else this.objects.buttons[s].classList.toggle(1===s?"active":"disabled",1===s?Game.auto:Game.betTopsCredits()||(s<1?Game.playing||!Game.thereIsABet():Game.playing||1===Game.bet.session&&Game.maxBetReached()));t=Game.bet.current>0?Game.bet.current:1;for(var s=0,a=Game.paytable.length;s<a;s++)this.objects.pay[s].innerHTML=t*Game.paytable[s].val},e.cyclicMessages=function(){this.objects.msg.innerHTML=""===this.objects.msg.innerHTML?this.messages[Game.messages]:"",this.objects.msg.classList.toggle("mark",3===Game.messages)},e.playSound=function(e,t){Game.audio&&(void 0!==t&&(this.sounds[e].playbackRate=t),this.sounds[e].play())},e.init=function(){var e=[],t=["PLAY","AUTO","SPEED","BET ONE","BET MAX"];e[0]=document.createElement("div"),e[0].className="container",document.body.appendChild(e[0]),e[1]=document.createElement("header"),e[0].appendChild(e[1]),e[2]=document.createElement("h1"),e[2].innerHTML=this.title,e[1].appendChild(e[2]),e[2]=document.createElement("menu"),e[1].appendChild(e[2]);for(var s=0,a=t.length;s<a;s++)e[3]=document.createElement("button"),e[3].className="clickable",e[3].innerHTML=this.buttonLabels[s],e[2].appendChild(e[3]);e[3]=document.createElement("img"),e[3].className="cl-right icon clickable",e[3].src=this.iconSource[0],e[2].appendChild(e[3]),e[1]=document.createElement("section"),e[0].appendChild(e[1]),e[2]=document.createElement("article"),e[2].className="cl-left grid",e[1].appendChild(e[2]),this.drawBlocks(0,0,Game.numbers.set/2,e[2]),e[3]=document.createElement("div"),e[3].className="msg textcentered",e[2].appendChild(e[3]),this.drawBlocks(0,40,Game.numbers.set,e[2]),e[3]=document.createElement("h2"),e[3].innerHTML=this.text[1],e[2].appendChild(e[3]),e[3]=document.createElement("p"),e[3].innerHTML=this.text[2],e[2].appendChild(e[3]),e[2]=document.createElement("article"),e[2].className="cl-right",e[1].appendChild(e[2]),e[3]=document.createElement("div"),e[3].className="box",e[2].appendChild(e[3]),this.drawBlocks(1,0,this.infoLabels.length,e[3],this.infoLabels),e[3]=document.createElement("div"),e[3].className="box",e[2].appendChild(e[3]),e[4]=document.createElement("p"),e[4].innerHTML=this.text[0],e[3].appendChild(e[4]),this.drawBlocks(2,0,Game.paytable.length,e[3],Game.paytable),e[2]=document.createElement("div"),e[2].className="cl-clear",e[1].appendChild(e[2]),e[2]=document.createElement("p"),e[2].innerHTML=this.text[3],e[1].appendChild(e[2]),e[1]=document.createElement("footer"),e[1].className="textcentered",e[0].appendChild(e[1]),e[2]=document.createElement("a"),e[2].innerHTML=this.text[4],e[2].href=this.link,e[2].target="_blank",e[1].appendChild(e[2]),this.objects.buttons=document.getElementsByTagName("BUTTON"),this.objects.audio=document.getElementsByTagName("IMG")[0],this.objects.cells=document.getElementsByTagName("TD"),this.objects.msg=document.getElementsByClassName("msg")[0],this.objects.info=document.getElementsByClassName("info"),this.objects.pay=document.getElementsByClassName("pay"),this.bind()},e.title="serial <span>keno</span>",e.link="https://www.facebook.com/allcrossword/",e.iconSource=["files/assets/img/audio.png",".png","_off.png"],e.text=["PAY TABLE","Game Rules","In Serial Keno you bet for how many consecutive numbers appear on the board after 20 numbers get selected randomly and without replacement from a total of 80 numbers.","The game pays according to the longest sequence to show up. For example, if the longest run is  is a string of numbers from 2 to 10, the longest run is 9 and you get paid if the pay table has a corresponding payment. <br><br/>In addition, number 80 is linked to number 1. So numbers from 78 to 80 and from 1 to 5 make up a serie of 8 consecutive numbers.","DO YOU LIKE THIS GAME? CLICK HERE TO CONTACT ME ON FACEBOOK"],e.messages=["Place a bet and/or press Play","Game in progress","Game Over","You Won!"],e.buttonLabels=["PLAY","AUTO","SPEED","BET ONE","BET MAX"],e.infoLabels=["CREDITS","BET","COUNT","PAY"],e.sounds=[new Audio("files/assets/media/click.wav"),new Audio("files/assets/media/blop.wav"),new Audio("files/assets/media/bonus.wav")],e.objects=[],e}(),Main=function(){function e(){}return e.setVars=function(e){var t={speed:{points:[10,30,75],vals:[100,50,25,10]},divisor:{points:[25,20,15,10,5],vals:[5e3,3e3,1e3,500]}},s=e<t.speed.points[0]?t.speed.vals[0]:e<t.speed.points[1]?t.speed.vals[1]:e<t.speed.points[2]?t.speed.vals[2]:t.speed.vals[3],a=1;if(e>100)for(var n=t.divisor.points[0];n>1&&!(e%n==0&&(a=n,e>=t.divisor.vals[0]||n<=t.divisor.points[1]&&e>=t.divisor.vals[1]||n<=t.divisor.points[2]&&e>=t.divisor.vals[2]||n<=t.divisor.points[3]&&e>=t.divisor.vals[3]||n<=t.divisor.points[4]));n--);return[s,a]},e.gameReset=function(){Game.bet.session=0,Game.auto&&!Game.betTopsCredits()?setTimeout(function(){e.gameStart(),e.gameInProgress()},1e3):(Game.playing=!1,Game.auto&&(Game.auto=!1),Game.betTopsCredits()&&Game.credits>0&&(Game.bet.current=0)),Dom.bind()},e.gameDone=function(){var t=this.setVars(Game.pay);Game.messages=Game.pay>0?3:2,Game.pay>0?this.timer=setInterval(function(){0===Game.pay?(clearInterval(e.timer),e.gameReset()):(Game.takeWin(t[1]),Dom.playSound(2),Dom.bind())},t[0]):this.gameReset(),Dom.bind()},e.gameInProgress=function(){Game.messages=1,Game.draws++,this.timer=setInterval(function(){Game.numbers.selected.length<Game.numbers.subset?(Game.pickNumber(),Game.results(),Dom.playSound(1),Dom.bind()):(clearInterval(e.timer),e.gameDone())},Game.speed.vals[Game.speed.dial])},e.gameStart=function(){0===Game.bet.session&&Game.takeBet(Game.bet.current),Game.numbers.selected=[],Game.count=0,Game.pay=0},e.init=function(){Dom.init();for(var t=0,s=Dom.objects.buttons.length;t<s;t++)!function(t,s){Dom.objects.buttons[t].onclick=function(){var s;0===t?Game.playing||Game.betTopsCredits()||!Game.thereIsABet()||(Game.playing=!0,e.gameStart(),e.gameInProgress()):1===t?Game.auto=!Game.auto:2===t?Game.playing||(Game.speed.dial=Game.speed.dial+1===Game.speed.vals.length?0:Game.speed.dial+1):(s=this.innerHTML.indexOf("MAX")>=0,Game.manageBet(),!Game.playing&&(s&&Game.canBetMax()||!s&&Game.canBetOne())&&(Game.messages=0,Game.bet.session=1,Game.takeBet(s?Game.bet.max:1),e.gameStart())),this.className.indexOf("disabled")<0&&(Dom.bind(),Dom.playSound(0))}}(t);Dom.objects.audio.onclick=function(){Game.audio=!Game.audio,Dom.bind(),Dom.playSound(0)},setInterval(function(){Dom.cyclicMessages()},500)},e.timer=null,e}();Main.init();